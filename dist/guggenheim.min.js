var guggenheim=function(a,b){function A(a){return a.toLowerCase()}function B(a){return m?m+a:A(a)}function C(a){if(typeof a!="object")return[];var b=[],c;for(c in a)b.push(c);return b}function D(a){if(typeof a!="object")return[];var b=[],c;for(c in a)b.push(a[c]);return b}function E(a,b){var c,d;for(c in b)if(D(a[c]).length>0&&D(b[c]).length>0)for(d in b[c])a[c][d]=b[c][d];else a[c]=b[c];return a}function F(a){var b=window.getComputedStyle?window.getComputedStyle(a,null):a.currentStyle;return{height:parseFloat(b.height)+(parseFloat(b.paddingTop)||0)+(parseFloat(b.paddingBottom)||0)+(parseFloat(b.borderTopWidth)||0)+(parseFloat(b.borderBottomWidth)||0),width:parseFloat(b.width)+(parseFloat(b.paddingLeft)||0)+(parseFloat(b.paddingRight)||0)+(parseFloat(b.borderLeftWidth)||0)+(parseFloat(b.borderRightWidth)||0),margin:{top:parseFloat(b.marginTop)||0,right:parseFloat(b.marginRight)||0,bottom:parseFloat(b.marginBottom)||0,left:parseFloat(b.marginLeft)||0},padding:{top:parseFloat(b.paddingTop)||0,right:parseFloat(b.paddingRight)||0,bottom:parseFloat(b.paddingBottom)||0,left:parseFloat(b.paddingLeft)||0}}}function G(a){return a._zid||(a._zid=z++)}function H(a,b,c){var d=G(a);y[d]||(y[d]={}),y[d][b]||(y[d][b]=[]),y[d][b].push(c),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function I(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent(b,c)}function J(a,b,c){if(c==null){var d=G(a);if(y[d]&&y[d][b])for(var e=0;e<y[d][b].length;e++)I(a,b,y[d][b][e])}else I(a,b,c)}function K(a,b,c){return parseFloat(a+(b-a)*c).toFixed(3)}function L(a,b,c){return a.substr(b,c||1)}function M(a,b,c){var d=2,e,f,g,h=[],i=[];while(e=3,f=arguments[d-1],d--)if(L(f,0)=="r"){f=f.match(/\d+/g);while(e--)h.push(~~f[e])}else{f.length==4&&(f="#"+L(f,1)+L(f,1)+L(f,2)+L(f,2)+L(f,3)+L(f,3));while(e--)h.push(parseInt(L(f,1+e*2,2),16))}while(e--)g=~~(h[e+3]+(h[e]-h[e+3])*c),i.push(g<0?0:g>255?255:g);return"rgb("+i.join(",")+")"}function N(a){var b=parseFloat(a),c=a.replace(/^[\-\d\.]+/,"");return isNaN(b)?{v:c,f:M,u:""}:{v:b,f:K,u:c}}function O(a,b,c){var d=[],e,f=(new Date).getTime(),g=o.duration*1e3,h=f+g,i=a.currentStyle?a.currentStyle:getComputedStyle(a,null),k={},m,n={},p,q,r,s;if(l!=""){for(e in b)d.push(e);a.style.setProperty(l+"transition-property",d.join(", "),""),a.style.setProperty(l+"transition-duration",o.duration+"s",""),a.style.setProperty(l+"transition-timing-function",o.easing,""),J(a,B("TransitionEnd")),o.duration>0&&H(a,B("TransitionEnd"),c);for(e in b)a.style[e]=b[e]}else{for(p in b)n[p]=N(b[p]);for(p in b)k[p]=N(p==="opacity"?x(i):i[p]);m=setInterval(function(){q=(new Date).getTime(),r=q>h?1:(q-f)/g;for(p in n)s=n[p].f(k[p].v,n[p].v,j[o.easing](r))+n[p].u,p==="opacity"?w(a,s):a.style[p]=s;q>h&&(clearInterval(m),c!==undefined&&c.call())},10)}}function X(){var a,b=0,c=0,d=0,e=0,f=0,g=0,h=F(n);for(a=0;a<q.length;a++)Z=F(q[a]),f=Z.padding.left+Z.padding.right,g=Z.padding.top+Z.padding.bottom,Z.width>b&&(b=Z.width-f),Z.height>c&&(c=Z.height-g),f>d&&(d=f),g>e&&(e=g);o.cols!="auto"&&b>h.width/o.cols&&(b=Math.floor(h.width/o.cols)-f),o.rows!="auto"&&c>h.height/o.rows&&(c=Math.floor(h.height/o.rows)-g);for(a=0;a<q.length;a++)q[a].style.position="absolute",q[a].style.width=b+"px",q[a].style.height=c+"px",q[a].style.left="0px",q[a].style.top="0px",t?q[a].style.opacity=1:q[a].style.filter="alpha(opacity=100)"}var c,d,e={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},f=window.document,g=f.createElement("div"),h=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,i={},j={ease:function(a){return-Math.cos(a*Math.PI)/2+.5},linear:function(a){return a}},k=!1,l="",m="",n,o,p,q,r=[],s=[],t=typeof g.style.opacity=="string",u=typeof g.style.filter=="string",v=/alpha\(opacity=([^\)]+)\)/,w=function(){},x=function(){return"1"},y={},z=1;t?(w=function(a,b){a.style.opacity=parseFloat(b)},x=function(a){return a.opacity}):u&&(w=function(a,b){var c=a.style;b=parseFloat(b),v.test(c.filter)?(b=b>=.9999?"":"alpha(opacity="+b*100+")",c.filter=c.filter.replace(v,b)):c.filter+=" alpha(opacity="+b*100+")"},x=function(a){var b=a.filter.match(v);return(b?b[1]/100:1)+""});var P=function(){if(k)return!1;k=!0;var a=F(n),b=F(q[0]),c=T(),d=c*a.width,e=o.cols*o.rows,f=S(),g=r.slice((f-2)*e,(f-2)*e+e),h=function(){o.after(g),k=!1};g.length?(o.before(g),O(p,{left:parseFloat(p.offsetLeft)+a.width-a.padding.left+"px"},h)):k=!1},Q=function(){if(k)return!1;k=!0;var a=F(n),b=F(q[0]),c=T(),d=c*a.width,e=o.cols*o.rows,f=S(),g=r.slice(f*e,f*e+e),h=function(){o.after(g),k=!1};g.length?(o.before(g),O(p,{left:parseFloat(p.offsetLeft)-a.width-a.padding.left+"px"},h)):k=!1},R=function(a){if(k)return!1;k=!0;var b=F(n),c=F(q[0]),d=T(),e=d*b.width,f=S(),g=-((a-1)*(b.width-b.padding.left))+"px",h=o.cols*o.rows,i=r.slice((a-1)*h,(a-1)*h+h),j=function(){o.after(i),k=!1};f!=a&&a<=d&&a>0?(o.before(i),O(p,{left:g},j)):k=!1},S=function(){var a=F(n),b=Math.ceil(-parseFloat(p.style.left)/a.width)+1;return typeof b=="number"?b:1},T=function(){return Math.ceil(r.length/(o.rows*o.cols))},U=function(a){var b=0,c=0,d,e,f=F(q[0]),g=F(n),h=0,i,j={},k;if(typeof a=="string"||Array.isArray(a))typeof a=="string"&&(a=[a]),k="(?=.*\\b("+a.join(")\\b)(?=.*\\b(")+")\\b)",a=function(a){return(new RegExp(k)).test(a.className)};r=[],O(p,{left:g.padding.left+"px"});for(i=0;i<s.length;i++)a(s[i])?(r.push(s[i]),d=(f.height+f.margin.bottom+f.margin.top)*b,e=(f.width+f.margin.right+f.margin.left)*c+g.width*h,j={top:d+"px",left:e+"px",opacity:"1"},c++,c==o.cols&&(c=0,b++,b==o.rows&&(b=0,h++))):j={opacity:"0"},O(s[i],j);return r},V=function(a){var b=0,c=0,d,e,f=F(q[0]),g=F(n),h=0,i,j={},k;s=[];for(i=0;i<a.length;i++)k=typeof a[i]=="string"?n.querySelector(a[i]):a[i],s.push(k),r.indexOf(k)!=-1&&(d=(f.height+f.margin.bottom+f.margin.bottom)*b,e=(f.width+f.margin.right+f.margin.left)*c+g.width*h,j={top:d+"px",left:e+"px",opacity:"1"},O(k,j),c++,c==o.cols&&(c=0,b++,b==o.rows&&(b=0,h++)));return s},W=function(){var a=[],b;r=s=[];for(b=0;b<q.length;b++)r.push(q[b]),a.push(q[b]);s=r,o.before(r.slice(0,o.cols*o.rows)),V(a),o.after(r.slice(0,o.cols*o.rows))};if(typeof a=="string"&&f.querySelector(a)==null)throw"Element "+a+" does not exist!";n=typeof a=="string"?f.querySelector(a):a,o=E({selector:"div.guggenheim-item",rows:"auto",cols:"auto",duration:.5,easing:"ease",slider:"div.guggenheim-slider",width:null,height:null,before:function(){},after:function(){}},b),n.style.overflow="hidden",n.style.position==""&&(n.style.position="relative"),o.width!=null&&(n.style.width=o.width+"px"),o.height!=null&&(n.style.height=o.height+"px"),q=n.querySelectorAll(o.selector);if(!q.length)throw"Gallery is empty";var Y=F(n),Z,$,_,ab,p,bb,cb=D(e),db=C(e);return o.cols=="auto"&&(Z=F(q[0]),$=Z.width+Z.margin.left+Z.margin.right,o.cols=Math.floor(Y.width/$)),o.rows=="auto"&&(Z=F(q[0]),_=Z.height+Z.margin.top+Z.margin.bottom,o.rows=Math.floor(Y.height/_)),console.log(o),X(),p=n.querySelector(o.slider),p.style.left=Y.padding.left+"px",p.style.position="relative",function(){for(var a=0;a<db.length;a++)if(g.style[db[a]+"TransitionProperty"]!==undefined)return l="-"+A(db[a])+"-",m=cb[a],!1}(),i[l+"transition-property"]=i[l+"transition-duration"]=i[l+"transition-timing-function"]=i[l+"animation-name"]=i[l+"animation-duration"]="",W(),{reset:W,order:V,filter:U,prev:P,next:Q,jumpTo:R,currentPage:S,numPages:T}};Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)=="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(this==null)throw new TypeError;var b=Object(this),c=b.length>>>0,d,e;if(c===0)return-1;d=0,arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:d!=0&&d!=Infinity&&d!=-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1})